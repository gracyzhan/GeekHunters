@model Education.Web.Article
@{
    ViewBag.Title = Model == null ? "文章不存在" : Model.Title;
    Member member = WebContext.GetCurrentMember();
}
<div class="container" style="margin-top: 30px;">
    <article id="post-891" class="panel panel-danger archive" data-post-id="891" role="main">
        <div class="panel-body">
            @if (Model == null)
            {
                <h3 class="h4">
                    未找到页面 404 NO FOUND
                </h3>
                <ul>
                    <li>
                        <h4>可能导致的原因</h4>
                        <ol>
                            <li>输入的链接有误</li>
                            <li>请求的页面不存在</li>
                        </ol>
                    </li>
                </ul>
            }
            else
            {
                <div class="entry-header page-header" style="margin-top: 20px;">
                    <h3 class="h4">
                        @Model.Title
                    </h3>
                    <div class="entry-meta clearfix">
                        <span class="glyphicon glyphicon-user"></span> @(Model.Author ?? "佚名")
                        <span class="glyphicon glyphicon-time"></span> <time class="entry-date" datetime="2014-07-06T10:27:17+00:00">@Model.CreateTime.ToString("yyyy年MM月dd日")</time>
                        @if (member != null && member.Permissions > 0)
                        {
                            
                            <span class="glyphicon glyphicon-folder-open"></span>  <a href="@Url.Action("AddArticle", "Home", new {id = Model.ArticleId})" title="编辑" rel="category tag">编辑</a>
                            using (Html.BeginForm("DelArticle", "Home", FormMethod.Post, new { style = "display:inline-block" }))
                            {
                                <input type="hidden" name="id" value="@Model.ArticleId" />
                                <span class="glyphicon glyphicon-remove"></span> <a href="javascript:;" onclick="delArticle()" title="删除" rel="category tag">删除</a>
                                <script type="text/javascript">
                                    function delArticle() {
                                        $("form").submit();
                                    }
                                </script>
                            }
                        }
                    </div>
                </div>
                <div class="entry-content">
                    <p>@Html.Raw(Model.Content)</p>
                </div>
            }
        </div>
    </article>

</div>